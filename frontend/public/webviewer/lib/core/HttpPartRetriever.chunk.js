/** Notice * This file contains works from many authors under various (but compatible) licenses. Please see core.txt for more information. **/
(function(){(window.wpCoreControlsBundle=window.wpCoreControlsBundle||[]).push([[0],{577:function(ya,ua,n){n.r(ua);n.d(ua,"ByteRangeRequest",function(){return r});var pa=n(0),oa=n(1);n.n(oa);var na=n(3),ka=n(199);ya=n(122);var ia=n(334),fa=n(110),x=n(100),y=n(333),w=n(222);n=n(500);var b=[],f=[],h=window,e=function(){return function(){this.Bq=1}}(),a;(function(aa){aa[aa.UNSENT=0]="UNSENT";aa[aa.DONE=4]="DONE"})(a||(a={}));var r=function(){function aa(ea,ba,ha,ca){var ma=this;this.url=ea;this.range=ba;this.Of=
ha;this.withCredentials=ca;this.mka=a;this.request=new XMLHttpRequest;this.request.open("GET",this.url,!0);h.Uint8Array&&(this.request.responseType="arraybuffer");ca&&(this.request.withCredentials=ca);z.DISABLE_RANGE_HEADER||(Object(oa.isUndefined)(ba.stop)?this.request.setRequestHeader("Range","bytes=".concat(ba.start)):this.request.setRequestHeader("Range",["bytes=",ba.start,"-",ba.stop-1].join("")));ha&&Object.keys(ha).forEach(function(la){ma.request.setRequestHeader(la,ha[la])});this.request.overrideMimeType?
this.request.overrideMimeType("text/plain; charset=x-user-defined"):this.request.setRequestHeader("Accept-Charset","x-user-defined");this.status=y.a.NOT_STARTED}aa.prototype.start=function(ea){var ba=this,ha=this.request;ha.onreadystatechange=function(){if(ba.aborted)return ba.status=y.a.ABORTED,ea({code:y.a.ABORTED});if(this.readyState===ba.mka.DONE){ba.aL();var ca=0===window.document.URL.indexOf("file:///");200===ha.status||206===ha.status||ca&&0===ha.status?(ca=h.s8(this),ba.EZ(ca,ea)):(ba.status=
y.a.ERROR,ea({code:ba.status,status:ba.status}))}};this.request.send(null);this.status=y.a.STARTED};aa.prototype.EZ=function(ea,ba){this.status=y.a.SUCCESS;if(ba)return ba(!1,ea)};aa.prototype.abort=function(){this.aL();this.aborted=!0;this.request.abort()};aa.prototype.aL=function(){var ea=Object(w.c)(this.url,this.range,f);-1!==ea&&f.splice(ea,1);if(0<b.length){ea=b.shift();var ba=new aa(ea.url,ea.range,this.Of,this.withCredentials);ea.request=ba;f.push(ea);ba.start(Object(w.d)(ea))}};aa.prototype.extend=
function(ea){var ba=Object.assign({},this,ea.prototype);ba.constructor=ea;return ba};return aa}(),z=function(aa){function ea(ba,ha,ca,ma,la){ca=aa.call(this,ba,ca,ma)||this;ca.wm={};ca.fJ=ha;ca.url=ba;ca.DISABLE_RANGE_HEADER=!1;ca.oF=r;ca.W_=3;ca.Of=la||{};return ca}Object(pa.c)(ea,aa);ea.prototype.xC=function(ba,ha,ca){var ma=-1===ba.indexOf("?")?"?":"&";switch(ca){case !1:case x.a.NEVER_CACHE:ba="".concat(ba+ma,"_=").concat(Object(oa.uniqueId)());break;case !0:case x.a.CACHE:ba="".concat(ba+ma,
"_=").concat(ha.start,",").concat(Object(oa.isUndefined)(ha.stop)?"":ha.stop)}return ba};ea.prototype.s5=function(ba,ha,ca,ma){void 0===ca&&(ca={});return new this.oF(ba,ha,ca,ma)};ea.prototype.Aua=function(ba,ha,ca,ma,la){for(var ja=0;ja<b.length;ja++)if(Object(oa.isEqual)(b[ja].range,ha)&&Object(oa.isEqual)(b[ja].url,ba))return b[ja].lj.push(ma),b[ja].wM++,null;for(ja=0;ja<f.length;ja++)if(Object(oa.isEqual)(f[ja].range,ha)&&Object(oa.isEqual)(f[ja].url,ba))return f[ja].lj.push(ma),f[ja].wM++,null;
ca={url:ba,range:ha,fJ:ca,lj:[ma],wM:1};if(0===b.length&&f.length<this.W_)return f.push(ca),ca.request=this.s5(ba,ha,la,this.withCredentials),ca;b.push(ca);return null};ea.prototype.Js=function(ba,ha,ca){var ma=this.xC(ba,ha,this.fJ);(ba=this.Aua(ma,ha,this.fJ,ca,this.Of))&&ba.request.start(Object(w.d)(ba));return function(){var la=Object(w.c)(ma,ha,f);if(-1!==la){var ja=--f[la].wM;0===ja&&f[la].request&&f[la].request.abort()}else la=Object(w.c)(ma,ha,b),-1!==la&&(ja=--b[la].wM,0===ja&&b.splice(la,
1))}};ea.prototype.H7=function(){return{start:-ka.a}};ea.prototype.qza=function(){var ba=-(ka.a+ka.e);return{start:ba-ka.d,end:ba}};ea.prototype.lz=function(ba){var ha=this;this.oJ=!0;var ca=ka.a;this.Js(this.url,this.H7(),function(ma,la,ja){function ra(){var qa=ha.Re.E7();ha.Js(ha.url,qa,function(sa,ta){if(sa)return Object(na.i)("Error loading central directory: ".concat(sa)),ba(sa);ta=Object(fa.a)(ta);if(ta.length!==qa.stop-qa.start)return ba("Invalid XOD file: Zip central directory data is wrong size! Should be ".concat(qa.stop-
qa.start," but is ").concat(ta.length));ha.Re.vca(ta);ha.OR=!0;ha.oJ=!1;return ba(!1)})}if(ma)return Object(na.i)("Error loading end header: ".concat(ma)),ba(ma,la,ja);la=Object(fa.a)(la);if(la.length!==ca)return ba("Invalid XOD file: Zip end header data is wrong size!");try{ha.Re=new ia.a(la)}catch(qa){return ba(qa)}ha.Re.jCa?ha.Js(ha.url,ha.qza(),function(qa,sa){if(qa)return Object(na.i)("Error loading zip64 header: ".concat(qa)),ba(qa);sa=Object(fa.a)(sa);ha.Re.NCa(sa);ra()}):ra()})};ea.prototype.l8=
function(ba){ba(Object.keys(this.Re.cs))};ea.prototype.QX=function(ba,ha){var ca=this;if(this.Re.c5(ba)){var ma=this.Re.oD(ba);if(ma in this.wm){var la=this.Gj[ba];la.Ex=this.wm[ma];la.Ex.Bq++;la.cancel=la.Ex.cancel}else{var ja=this.Re.Swa(ba),ra=this.Js(this.url,ja,function(sa,ta){sa?(Object(na.i)('Error loading part "'.concat(ba,'": ').concat(sa)),ca.Js(ca.url,ja,function(va,Aa){if(va)return ha(va,ba);ca.zca(Aa,ja,ma,ba,ha)})):ca.zca(ta,ja,ma,ba,ha)}),qa=this.Gj[ba];qa&&(qa.Dfa=!0,qa.cancel=function(){qa.Ex.Bq--;
0===qa.Ex.Bq&&(ra(),delete ca.wm[ma])},this.wm[ma]=new e(ma),qa.Ex=this.wm[ma],qa.Ex.cancel=qa.cancel)}}else delete this.Gj[ba],ha(Error('File not found: "'.concat(ba,'"')),ba)};ea.prototype.zca=function(ba,ha,ca,ma,la){if(ba.length!==ha.stop-ha.start)la(Error("Part data is wrong size!"),ma);else{do{if(!this.wm[ca])return;ma=this.wm[ca].Bq;for(var ja=ha.Sv.length,ra=0;ra<ja;++ra){var qa=ha.Sv[ra];la(!1,qa.Ov,ba["string"===typeof ba?"substring":"subarray"](qa.start,qa.stop),this.Re.Q9(qa.Ov));qa.Ov in
this.Gj&&delete this.Gj[qa.Ov]}}while(ma!==this.wm[ca].Bq);delete this.wm[ca]}};ea.DISABLE_RANGE_HEADER=!1;ea.W_=3;return ea}(ya.a);(function(aa){function ea(ba,ha,ca){var ma=aa.call(this)||this,la;for(la in ba)ma[la]=ba[la];ma.xSa=ba;ma.startOffset=ha;ma.endOffset=ca;ma.s5=function(ja,ra,qa,sa){Object(oa.isUndefined)(ra.stop)?(ra.start+=ma.endOffset,ra.stop=ma.endOffset):(ra.start+=ma.startOffset,ra.stop+=ma.startOffset);ja=ma.xC(ma.url,ra,ma.fJ);return new ba.oF(ja,ra,qa,sa)};return ma}Object(pa.c)(ea,
aa);return ea})(z);Object(n.a)(z);Object(n.b)(z);ua["default"]=z}}]);}).call(this || window)
